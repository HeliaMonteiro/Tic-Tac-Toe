<!--Project 1 - TIC TAC TOE - GAME - Tuesday - 
  23/08/2022

Planning:

1. It has to have 9 clickable grids
2. I have to define 2 players = 0 and x
3. The game stars clicking in any of the 9 grids
4. After a grid be clicked it can't be clicked again (blocked)
5. It needs to alternate turns, the same player can't do consecutive click
6. The turns need to keep alternating until all 9 grid has been clicked or there is a winner.
7. Then I need to check if there is 3x 0 or x align in a row, a column, or diagonally
8. If there is display: the winner.
9. If not display: Draw.
10. Restart the game clicking in a button.

My tasks

1. Create a HTML document and a CSS style file
2. Header with tittle and welcome phrase
3. A div container and 9 divs or input inside to be the grids
4. Create a button to restart the game
5. Create a css style doc
6. Do all style in the CSS file
7. Create a JS file
8. Create a constant variable for our 0 and x
9. Use querySelector to select DOM object (divs)
10. Add x or 0 in the DOM object


-->

<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="style.css">
  <title>TicTacToe</title>
</head>
<body>
    <h1>Tic Tac Toe</h1>
    <p>To start to play, just click in one grid</p>
  <div class="container">
    <div class="grid1"></div>
    <div class="grid2"></div>
    <div class="grid3"></div>
    <div class="grid4"></div>
    <div class="grid5"></div>
    <div class="grid6"></div>
    <div class="grid7"></div>
    <div class="grid8"></div>
    <div class="grid9"></div>
  </div>
  <button class="reset-button">Play Again</button>
</body>
</html>

<script>

let xPlayer = []
let oPlayer = []

const howToWin = [
   [0, 1, 2],
   [3, 4, 5],
   [6, 7, 8],
   [0, 4, 8],
   [2, 4, 6],
   [0, 3, 6],
   [1, 4, 7],
   [2, 5, 8],
]


var counter = 0
var contador = 0
var container = document.querySelector('.container')
container.addEventListener('click', function(event) {
  let box = event.target

  const index = Array.from(container.children).indexOf(box)

  if (box.tagName === 'DIV') {
    if (box.textContent !== 'X' && box.textContent !== '0') {
      box.classList.add('disabled')
      if (counter === 0) {

      box.textContent = 'X'
      counter = 1
      xPlayer.push(index)

      } else {
        box.textContent = '0'
        counter = 0
        oPlayer.push(index)
      }

      contador = contador + 1 
    
    }

    howToWin.forEach(howToWin => {
      const xWin = howToWin.every(state => xPlayer.includes(state))
      const oWin = howToWin.every(state => oPlayer.includes(state))


      if(document.querySelectorAll('.disabled').length === 9) {
        console.log('draw')
      } else {
        if(xWin === true) {
          console.log('Player X is the winner!')
        }

        if (oWin === true) {
          console.log('Congratulations player 0, you are the winner!')
        }
      }
      
    })
  }
  
})

var reset = document.querySelector('.reset-button')
reset.addEventListener('click', function(event) {
  for(let i = 0; i < container.children.length; i++) {
    container.children[i].textContent = ''
  }
  xPlayer = []
  oPlayer = []
})



// Ok, the basic level is working. 



</script>